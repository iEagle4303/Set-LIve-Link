"use strict";(self.webpackChunk_aws_doc_sdk_examples_example_javascriptv3_s3=self.webpackChunk_aws_doc_sdk_examples_example_javascriptv3_s3||[]).push([[331],{4331:(t,e,n)=>{n.d(e,{CognitoIdentityClient:()=>Ot,GetCredentialsForIdentityCommand:()=>fe,GetIdCommand:()=>ye});var s=n(6781),i=n(9359),r=n(7807),o=n(3272),a=n(7122),c=n(8532),d=n(943),h=n(6860),u=n(9487),p=n(7820),l=n(8704);const f=t=>{let e;t.credentials&&(e=(0,c.K4)(t.credentials,c.OC,c.e)),e||(e=t.credentialDefaultProvider?(0,c.te)(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:n=!0,systemClockOffset:s=t.systemClockOffset||0,sha256:i}=t;let r;return r=t.signer?(0,c.te)(t.signer):t.regionInfoProvider?()=>(0,c.te)(t.region)().then((async e=>[await t.regionInfoProvider(e,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},e])).then((([s,r])=>{const{signingRegion:o,signingService:a}=s;t.signingRegion=t.signingRegion||o||r,t.signingName=t.signingName||a||t.serviceId;const c={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:n};return new(t.signerConstructor||l.BB)(c)})):async s=>{const r=(s=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await(0,c.te)(t.region)(),properties:{}},s)).signingRegion,o=s.signingName;t.signingRegion=t.signingRegion||r,t.signingName=t.signingName||o||t.serviceId;const a={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:i,uriEscapePath:n};return new(t.signerConstructor||l.BB)(a)},{...t,systemClockOffset:s,signingEscapePath:n,credentials:e,signer:r}};var y=n(7135);const g=async(t,e,n)=>({operation:(0,y.u)(e).operation,region:await(0,y.t)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),m=t=>{const e=[];switch(t.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":e.push({schemeId:"smithy.api#noAuth"});break;default:e.push(function(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:t.region},propertiesExtractor:(t,e)=>({signingProperties:{config:t,context:e}})}}(t))}return e},w={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var v=n(2045).hp,b=void 0!==v&&v.from?function(t){return v.from(t,"utf8")}:t=>(new TextEncoder).encode(t);function x(t){return t instanceof Uint8Array?t:"string"==typeof t?b(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}function E(t){return"string"==typeof t?0===t.length:0===t.byteLength}var S={name:"SHA-256"},P={name:"HMAC",hash:S},I=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),C=n(7226),A=function(){function t(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return t.prototype.update=function(t){if(!E(t)){var e=x(t),n=new Uint8Array(this.toHash.byteLength+e.byteLength);n.set(this.toHash,0),n.set(e,this.toHash.byteLength),this.toHash=n}},t.prototype.digest=function(){var t=this;return this.key?this.key.then((function(e){return(0,C.R)().crypto.subtle.sign(P,e,t.toHash).then((function(t){return new Uint8Array(t)}))})):E(this.toHash)?Promise.resolve(I):Promise.resolve().then((function(){return(0,C.R)().crypto.subtle.digest(S,t.toHash)})).then((function(t){return Promise.resolve(new Uint8Array(t))}))},t.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(e,n){(0,C.R)().crypto.subtle.importKey("raw",x(t.secret),P,!1,["sign"]).then(e,n)})),this.key.catch((function(){})))},t}(),k=n(1635),R=64,O=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],D=Math.pow(2,53)-1,H=function(){function t(){this.state=Int32Array.from($),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=0,n=t.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>D)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=t[e++],n--,this.bufferLength===R&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var t=8*this.bytesHashed,e=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(e.setUint8(this.bufferLength++,128),n%R>=56){for(var s=this.bufferLength;s<R;s++)e.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<56;s++)e.setUint8(s,0);e.setUint32(56,Math.floor(t/4294967296),!0),e.setUint32(60,t),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(32);for(s=0;s<8;s++)i[4*s]=this.state[s]>>>24&255,i[4*s+1]=this.state[s]>>>16&255,i[4*s+2]=this.state[s]>>>8&255,i[4*s+3]=this.state[s]>>>0&255;return i},t.prototype.hashBuffer=function(){for(var t=this.buffer,e=this.state,n=e[0],s=e[1],i=e[2],r=e[3],o=e[4],a=e[5],c=e[6],d=e[7],h=0;h<R;h++){if(h<16)this.temp[h]=(255&t[4*h])<<24|(255&t[4*h+1])<<16|(255&t[4*h+2])<<8|255&t[4*h+3];else{var u=this.temp[h-2],p=(u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10,l=((u=this.temp[h-15])>>>7|u<<25)^(u>>>18|u<<14)^u>>>3;this.temp[h]=(p+this.temp[h-7]|0)+(l+this.temp[h-16]|0)}var f=(((o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7))+(o&a^~o&c)|0)+(d+(O[h]+this.temp[h]|0)|0)|0,y=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&s^n&i^s&i)|0;d=c,c=a,a=o,o=r+f|0,r=i,i=s,s=n,n=f+y|0}e[0]+=n,e[1]+=s,e[2]+=i,e[3]+=r,e[4]+=o,e[5]+=a,e[6]+=c,e[7]+=d},t}(),U=function(){function t(t){this.secret=t,this.hash=new H,this.reset()}return t.prototype.update=function(t){if(!E(t)&&!this.error)try{this.hash.update(x(t))}catch(t){this.error=t}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return(0,k.sH)(this,void 0,void 0,(function(){return(0,k.YH)(this,(function(t){return[2,this.digestSync()]}))}))},t.prototype.reset=function(){if(this.hash=new H,this.secret){this.outer=new H;var t=function(t){var e=x(t);if(e.byteLength>R){var n=new H;n.update(e),e=n.digest()}var s=new Uint8Array(R);return s.set(e),s}(this.secret),e=new Uint8Array(R);e.set(t);for(var n=0;n<R;n++)t[n]^=54,e[n]^=92;for(this.hash.update(t),this.outer.update(e),n=0;n<t.byteLength;n++)t[n]=0}},t}(),j=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];var M=function(){function t(t){var e,n;(function(t){return"object"==typeof t&&"object"==typeof t.crypto&&"function"==typeof t.crypto.getRandomValues})(e=(0,C.R)())&&"object"==typeof e.crypto.subtle&&((n=e.crypto.subtle)&&j.every((function(t){return"function"==typeof n[t]})))?this.hash=new A(t):this.hash=new U(t)}return t.prototype.update=function(t,e){this.hash.update(x(t))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}(),L=n(9391),q=n(7991),z=n(2423),N=n(9795),F=n(3323);n(7523);class T{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?":"!==t.protocol.slice(-1)?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?"/"!==t.path.charAt(0)?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const e=t;return"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers}clone(){const t=new T({...this,headers:{...this.headers}});var e;return t.query&&(t.query=(e=t.query,Object.keys(e).reduce(((t,n)=>{const s=e[n];return{...t,[n]:Array.isArray(s)?[...s]:s}}),{}))),t}}class _{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const e=t;return"number"==typeof e.statusCode&&"object"==typeof e.headers}}const B=t=>new Date(Date.now()+t),G=t=>_.isInstance(t)?t.headers?.date??t.headers?.Date:void 0,K=(t,e)=>{const n=Date.parse(t);return((t,e)=>Math.abs(B(e).getTime()-t)>=3e5)(n,e)?n-Date.now():e},V=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e};class W{async sign(t,e,n){if(!T.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:s,signer:i,signingRegion:r,signingName:o}=await(async t=>{const e=V("context",t.context),n=V("config",t.config),s=e.endpointV2?.properties?.authSchemes?.[0],i=V("signer",n.signer),r=await i(s),o=t?.signingRegion,a=t?.signingName;return{config:n,signer:r,signingRegion:o,signingName:a}})(n);return await i.sign(t,{signingDate:B(s.systemClockOffset),signingRegion:r,signingService:o})}errorHandler(t){return e=>{const n=e.ServerTime??G(e.$response);if(n){const s=V("config",t.config),i=s.systemClockOffset;s.systemClockOffset=K(n,s.systemClockOffset),s.systemClockOffset!==i&&e.$metadata&&(e.$metadata.clockSkewCorrected=!0)}throw e}}successHandler(t,e){const n=G(t);if(n){const t=V("config",e.config);t.systemClockOffset=K(n,t.systemClockOffset)}}}const J=t=>{if("string"==typeof t)return J(new URL(t));const{hostname:e,pathname:n,port:s,protocol:i,search:r}=t;let o;return r&&(o=function(t){const e={};if(t=t.replace(/^\?/,""))for(const n of t.split("&")){let[t,s=null]=n.split("=");t=decodeURIComponent(t),s&&(s=decodeURIComponent(s)),t in e?Array.isArray(e[t])?e[t].push(s):e[t]=[e[t],s]:e[t]=s}return e}(r)),{hostname:e,port:s?parseInt(s):void 0,protocol:i,path:n,query:o}};var Y=n(7395);const Q=t=>(new TextEncoder).encode(t),X=t=>{if("string"==typeof t)return t;if("object"!=typeof t||"number"!=typeof t.byteOffset||"number"!=typeof t.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(t)};var Z=n(6652),tt=n(3875);const et="required",nt="fn",st="argv",it="ref",rt=!0,ot="isSet",at="booleanEquals",ct="error",dt="endpoint",ht="tree",ut="PartitionResult",pt={[et]:!1,type:"String"},lt={[et]:!0,default:!1,type:"Boolean"},ft={[it]:"Endpoint"},yt={[nt]:at,[st]:[{[it]:"UseFIPS"},!0]},gt={[nt]:at,[st]:[{[it]:"UseDualStack"},!0]},mt={},wt={[nt]:"getAttr",[st]:[{[it]:ut},"supportsFIPS"]},vt={[nt]:at,[st]:[!0,{[nt]:"getAttr",[st]:[{[it]:ut},"supportsDualStack"]}]},bt=[yt],xt=[gt],Et=[{[it]:"Region"}],St={version:"1.0",parameters:{Region:pt,UseDualStack:lt,UseFIPS:lt,Endpoint:pt},rules:[{conditions:[{[nt]:ot,[st]:[ft]}],rules:[{conditions:bt,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ct},{conditions:xt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ct},{endpoint:{url:ft,properties:mt,headers:mt},type:dt}],type:ht},{conditions:[{[nt]:ot,[st]:Et}],rules:[{conditions:[{[nt]:"aws.partition",[st]:Et,assign:ut}],rules:[{conditions:[yt,gt],rules:[{conditions:[{[nt]:at,[st]:[rt,wt]},vt],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mt,headers:mt},type:dt}],type:ht},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ct}],type:ht},{conditions:bt,rules:[{conditions:[{[nt]:at,[st]:[wt,rt]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:mt,headers:mt},type:dt}],type:ht},{error:"FIPS is enabled but this partition does not support FIPS",type:ct}],type:ht},{conditions:xt,rules:[{conditions:[vt],rules:[{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mt,headers:mt},type:dt}],type:ht},{error:"DualStack is enabled but this partition does not support DualStack",type:ct}],type:ht},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:mt,headers:mt},type:dt}],type:ht}],type:ht},{error:"Invalid Configuration: Missing Region",type:ct}]},Pt=(t,e={})=>(0,tt.sO)(St,{endpointParams:t,logger:e.logger});tt.mw.aws=Z.UF;var It=n(246);var Ct=n(6928);const At=t=>{let e=t.httpHandler;return{setHttpHandler(t){e=t},httpHandler:()=>e,updateHttpClientConfig(t,n){e.updateHttpClientConfig(t,n)},httpHandlerConfigs:()=>e.httpHandlerConfigs()}};class kt{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?":"!==t.protocol.slice(-1)?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?"/"!==t.path.charAt(0)?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const e=t;return"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers}clone(){const t=new kt({...this,headers:{...this.headers}});var e;return t.query&&(t.query=(e=t.query,Object.keys(e).reduce(((t,n)=>{const s=e[n];return{...t,[n]:Array.isArray(s)?[...s]:s}}),{}))),t}}const Rt=t=>{const e=t.httpAuthSchemes;let n=t.httpAuthSchemeProvider,s=t.credentials;return{setHttpAuthScheme(t){const n=e.findIndex((e=>e.schemeId===t.schemeId));-1===n?e.push(t):e.splice(n,1,t)},httpAuthSchemes:()=>e,setHttpAuthSchemeProvider(t){n=t},httpAuthSchemeProvider:()=>n,setCredentials(t){s=t},credentials:()=>s}};class Ot extends p.Kj{constructor(...[t]){const e=(n=(t=>{const e=(0,It.I)(t),n=()=>e().then(p.lT),s=(t=>({apiVersion:"2014-06-30",base64Decoder:t?.base64Decoder??Y.E,base64Encoder:t?.base64Encoder??Y.n,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Pt,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??m,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new W},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.mR}],logger:t?.logger??new p.N4,serviceId:t?.serviceId??"Cognito Identity",urlParser:t?.urlParser??J,utf8Decoder:t?.utf8Decoder??Q,utf8Encoder:t?.utf8Encoder??X}))(t);return{...s,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??N.n,credentialDefaultProvider:t?.credentialDefaultProvider??(t=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,L.m)({serviceId:s.serviceId,clientVersion:"3.598.0"}),maxAttempts:t?.maxAttempts??F.Gz,region:t?.region??(0,z.B)("Region is missing"),requestHandler:q.NC.create(t?.requestHandler??n),retryMode:t?.retryMode??(async()=>(await n()).retryMode||F.L0),sha256:t?.sha256??M,streamCollector:t?.streamCollector??q.kv,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(a.VW)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(a.Hj))}})(t||{}),{...n,useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"});var n;const l=(0,a.TD)(e),y=(0,h.Co)(l),g=(0,u.$z)(y),w=(0,s.OV)(g),v=(0,o.Dc)(w),b=((t,e)=>{const n={...(0,Ct.Rq)(t),...(0,p.xA)(t),...At(t),...Rt(t)};return e.forEach((t=>t.configure(n))),{...t,...(0,Ct.$3)(n),...(0,p.uv)(n),...(i=n,{httpHandler:i.httpHandler()}),...(s=n,{httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()})};var s,i})({...f(v)},t?.extensions||[]);super(b),this.config=b,this.middlewareStack.use((0,u.ey)(this.config)),this.middlewareStack.use((0,d.vK)(this.config)),this.middlewareStack.use((0,s.TC)(this.config)),this.middlewareStack.use((0,i.Y7)(this.config)),this.middlewareStack.use((0,r.n4)(this.config)),this.middlewareStack.use((0,o.sM)(this.config)),this.middlewareStack.use((0,c.wB)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,c.lW)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return g}getIdentityProviderConfigProvider(){return async t=>new c.h$({"aws.auth#sigv4":t.credentials})}}var $t=n(1208),Dt=n(8218);const Ht=(t,e)=>(0,Dt.w)(t,e).then((t=>{if(t.length)try{return JSON.parse(t)}catch(e){throw"SyntaxError"===e?.name&&Object.defineProperty(e,"$responseBodyText",{value:t}),e}return{}})),Ut=async(t,e)=>{const n=await Ht(t,e);return n.message=n.message??n.Message,n};class jt extends p.TJ{constructor(t){super(t),Object.setPrototypeOf(this,jt.prototype)}}class Mt extends jt{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,Mt.prototype)}}class Lt extends jt{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,Lt.prototype)}}class qt extends jt{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,qt.prototype)}}class zt extends jt{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,zt.prototype)}}class Nt extends jt{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t}),this.name="ResourceConflictException",this.$fault="client",Object.setPrototypeOf(this,Nt.prototype)}}class Ft extends jt{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Ft.prototype)}}class Tt extends jt{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Tt.prototype)}}class _t extends jt{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t}),this.name="ExternalServiceException",this.$fault="client",Object.setPrototypeOf(this,_t.prototype)}}class Bt extends jt{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t}),this.name="InvalidIdentityPoolConfigurationException",this.$fault="client",Object.setPrototypeOf(this,Bt.prototype)}}class Gt extends jt{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t}),this.name="DeveloperUserAlreadyRegisteredException",this.$fault="client",Object.setPrototypeOf(this,Gt.prototype)}}class Kt extends jt{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t}),this.name="ConcurrentModificationException",this.$fault="client",Object.setPrototypeOf(this,Kt.prototype)}}const Vt=async(t,e)=>{const n=le("GetCredentialsForIdentity");let s;return s=JSON.stringify((0,p.Ss)(t)),pe(e,n,"/",void 0,s)},Wt=async(t,e)=>{const n=le("GetId");let s;return s=JSON.stringify((0,p.Ss)(t)),pe(e,n,"/",void 0,s)},Jt=async(t,e)=>{if(t.statusCode>=300)return Qt(t,e);const n=await Ht(t.body,e);let s={};return s=de(n,e),{$metadata:he(t),...s}},Yt=async(t,e)=>{if(t.statusCode>=300)return Qt(t,e);const n=await Ht(t.body,e);let s={};return s=(0,p.Ss)(n),{$metadata:he(t),...s}},Qt=async(t,e)=>{const n={...t,body:await Ut(t.body,e)},s=((t,e)=>{const n=t=>{let e=t;return"number"==typeof e&&(e=e.toString()),e.indexOf(",")>=0&&(e=e.split(",")[0]),e.indexOf(":")>=0&&(e=e.split(":")[0]),e.indexOf("#")>=0&&(e=e.split("#")[1]),e},s=(i=t.headers,Object.keys(i).find((t=>t.toLowerCase()==="x-amzn-errortype".toLowerCase())));var i;return void 0!==s?n(t.headers[s]):void 0!==e.code?n(e.code):void 0!==e.__type?n(e.__type):void 0})(t,n.body);switch(s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await ee(n,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await se(n,e);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await ie(n,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await re(n,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await oe(n,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await ce(n,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ae(n,e);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await te(n,e);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await ne(n,e);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Zt(n,e);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await Xt(n,e);default:const i=n.body;return ue({output:t,parsedBody:i,errorCode:s})}},Xt=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Kt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},Zt=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Gt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},te=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new _t({$metadata:he(t),...s});return(0,p.Mw)(i,n)},ee=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Mt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},ne=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Bt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},se=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Lt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},ie=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new qt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},re=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new zt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},oe=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Nt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},ae=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Tt({$metadata:he(t),...s});return(0,p.Mw)(i,n)},ce=async(t,e)=>{const n=t.body,s=(0,p.Ss)(n),i=new Ft({$metadata:he(t),...s});return(0,p.Mw)(i,n)},de=(t,e)=>(0,p.s)(t,{Credentials:t=>((t,e)=>(0,p.s)(t,{AccessKeyId:p.lK,Expiration:t=>(0,p.Y0)((0,p.l3)((0,p.r$)(t))),SecretKey:p.lK,SessionToken:p.lK}))(t),IdentityId:p.lK}),he=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),ue=(0,p.jr)(jt),pe=async(t,e,n,s,i)=>{const{hostname:r,protocol:o="https",port:a,path:c}=await t.endpoint(),d={protocol:o,hostname:r,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+n:c+n,headers:e};return void 0!==s&&(d.hostname=s),void 0!==i&&(d.body=i),new kt(d)};function le(t){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}}class fe extends(p.uB.classBuilder().ep({...w}).m((function(t,e,n,s){return[(0,$t.TM)(n,this.serialize,this.deserialize),(0,h.rD)(n,t.getEndpointParameterInstructions())]})).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(void 0,void 0).ser(Vt).de(Jt).build()){}class ye extends(p.uB.classBuilder().ep({...w}).m((function(t,e,n,s){return[(0,$t.TM)(n,this.serialize,this.deserialize),(0,h.rD)(n,t.getEndpointParameterInstructions())]})).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(void 0,void 0).ser(Wt).de(Yt).build()){}}}]);